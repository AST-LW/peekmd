<!doctype html>
<html lang="en" data-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PeekMD</title>
        <link rel="stylesheet" href="/style.css" />
    </head>
    <body>
        <div class="layout">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h1 class="logo">PeekMD</h1>
                    <div class="header-actions">
                        <button
                            class="icon-btn"
                            id="refreshBtn"
                            aria-label="Refresh folders"
                            title="Refresh folders"
                        >
                            <svg
                                viewBox="0 0 24 24"
                                width="16"
                                height="16"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <polyline points="23 4 23 10 17 10" />
                                <polyline points="1 20 1 14 7 14" />
                                <path
                                    d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"
                                />
                            </svg>
                        </button>
                        <button
                            class="icon-btn"
                            id="addFolderBtn"
                            aria-label="Link folder"
                            title="Link folder"
                        >
                            <svg
                                viewBox="0 0 24 24"
                                width="18"
                                height="18"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path
                                    d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
                                />
                                <line x1="12" y1="11" x2="12" y2="17" />
                                <line x1="9" y1="14" x2="15" y2="14" />
                            </svg>
                        </button>
                        <button
                            class="icon-btn"
                            id="themeToggle"
                            aria-label="Toggle theme"
                            title="Toggle theme"
                        >
                            <svg
                                class="icon-sun"
                                viewBox="0 0 24 24"
                                width="18"
                                height="18"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <circle cx="12" cy="12" r="5" />
                                <path
                                    d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
                                />
                            </svg>
                            <svg
                                class="icon-moon"
                                viewBox="0 0 24 24"
                                width="18"
                                height="18"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path
                                    d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"
                                />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="search-box">
                    <svg
                        class="search-icon"
                        viewBox="0 0 24 24"
                        width="14"
                        height="14"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    >
                        <circle cx="11" cy="11" r="8" />
                        <line x1="21" y1="21" x2="16.65" y2="16.65" />
                    </svg>
                    <input
                        class="search-input"
                        id="searchInput"
                        type="text"
                        placeholder="Search files and content..."
                        spellcheck="false"
                    />
                    <button
                        class="search-clear"
                        id="searchClear"
                        aria-label="Clear search"
                        style="display: none"
                    >
                        <svg
                            viewBox="0 0 24 24"
                            width="12"
                            height="12"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <line x1="18" y1="6" x2="6" y2="18" />
                            <line x1="6" y1="6" x2="18" y2="18" />
                        </svg>
                    </button>
                </div>
                <div
                    class="search-results"
                    id="searchResults"
                    style="display: none"
                ></div>
                <nav class="folder-list" id="folderList"></nav>
            </aside>
            <main class="content">
                <article class="markdown-body" id="markdownBody">
                    <div class="empty-state">Select a file to preview</div>
                </article>
            </main>
        </div>

        <div class="modal-overlay" id="modalOverlay">
            <div class="modal">
                <div class="modal-header">
                    <span class="modal-title">Link a Folder</span>
                    <button
                        class="icon-btn modal-close"
                        id="modalClose"
                        aria-label="Close"
                    >
                        <svg
                            viewBox="0 0 24 24"
                            width="16"
                            height="16"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <line x1="18" y1="6" x2="6" y2="18" />
                            <line x1="6" y1="6" x2="18" y2="18" />
                        </svg>
                    </button>
                </div>

                <div class="browser" id="folderBrowser">
                    <div class="browser-path" id="browserPath"></div>
                    <div class="browser-list" id="browserList"></div>
                </div>

                <div class="modal-input-row">
                    <input
                        class="modal-input"
                        id="folderInput"
                        type="text"
                        placeholder="/path/to/folder"
                        spellcheck="false"
                    />
                </div>

                <div class="modal-actions">
                    <button class="btn btn-secondary" id="modalCancel">
                        Cancel
                    </button>
                    <button class="btn btn-primary" id="modalConfirm">
                        Link
                    </button>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/marked@15/marked.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
        <script src="/app.js"></script>
    </body>
</html>
